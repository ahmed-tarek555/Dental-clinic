<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
</head>

<body>
  <h2>Login</h2>

  <form id="loginForm" onsubmit="login(event)">
    <input type="email" name="email" placeholder="Email" required />
    <input type="password" name="password" placeholder="Password" required />
    <button type="submit">Login</button>
  </form>

  <h3 id="response">Please log in</h3>
  <a href="/forgot-password-page">Forgot password?</a>

  <script>
async function login(e) {
  e.preventDefault();

  const form = new FormData(document.getElementById("loginForm"));

  const res = await fetch("/login", {
    method: "POST",
    body: form
  });

  if (!res.ok) {
    const error = await res.json();
    document.getElementById("response").innerText = error.detail;
    return;
  }

  window.location.href = res.url;
}

document.addEventListener("keydown", function(e) {
    if (e.ctrlKey && e.shiftKey && e.key === "Z") {
        window.location.href = "/admin/login-page";
    }
});

  </script>

</body>
</html>
